# This configuration file defines a list of patterns with one ore more substitutions.
# These are used for resolving IDs to a concrete URI, e.g. on the file system, the
# classpath or even a remote HTTP endpoint.
# You can specify multiple substitutions, the resolver will try to match them against
# the desired MIME type and return all that matches
# The repository will then verify which of these URIs are actually readable and return
# the first matching substitution.
# In the example below, we have two MIME types (tiff/jpeg) and for JPEG two resolutions
# in decreasing order of quality, so that the higher-resolution image will be chosen
# if it is available.

# An image pattern resolving example:
- pattern: ^(\d{8})_(\d{5})$
  substitutions:
    - 'file:/var/local/iiif/images/$1/original/image_$1_$2.tif'
    - 'file:/var/local/iiif/images/$1/300/image_$1_$2.jpg'
    - 'file:/var/local/iiif/images/$1/150/image_$1_$2.jpg'

# An manifest pattern resolving example:
- pattern: ^(\d{8})$
  substitutions:
    - 'file:/var/local/iiif/presentation/manifests/manifest_$1.json'

# For the official IIIF Image API Validator
- pattern: 67352ccc-d1b0-11e1-89ae-279075081939
  substitutions:
    - 'classpath:validation.jp2'
    - 'classpath:validation.png'

# Collection manifests ('collection-' pattern-prefix is statically added to requested collection name to disambigued from other patterns)
- pattern: ^collection-(.*)$
  substitutions:
    - 'file:/var/local/iiif/presentation/collections/$1.json'
